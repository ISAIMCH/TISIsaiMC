<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subsistema de Proveedores</title>
    <link rel="stylesheet" href="../Style/styleInfoAnalisis.css">
</head>
<body>
    <h1>Diseño de la base de datos del subsistema de Proveedores</h1>

    <section>
        <h2>Diagrama de la base de datos</h2>
        <img src="./../assets/PROVEEDORES_1.png" alt="Diagrama de la base de datos de Proveedores">
    </section>

    <section>
        <h2>Tabla Proveedor</h2>
        <h3>Propósito</h3>
        <p>La tabla <strong>Proveedor</strong> almacena información principal de cada proveedor, 
        como nombre, contacto, RFC y estatus. La dirección se gestiona en una tabla separada 
        (<strong>Direccion</strong>) para cumplir con la tercera forma normal (3NF).</p>
        
        <h3>Campos</h3>
        <ul>
            <li>ID_Proveedor: Clave primaria única que identifica a cada proveedor.</li>
            <li>Nombre, SegundoNombre, ApellidoP y ApellidoM: Registro completo del nombre del proveedor.</li>
            <li>Telefono y Correo: Datos de contacto obligatorios para comunicación directa.</li>
            <li>RFC_NIT: Identificación fiscal obligatoria para gestión legal y administrativa.</li>
            <li>Estatus: Indica si el proveedor está activo o inactivo.</li>
            <li>FechaRegistro: Fecha en que se dio de alta al proveedor.</li>
            <li>ID_Direccion: Clave foránea que enlaza con la tabla Direccion.</li>
        </ul>
    </section>

    <section>
        <h2>Tabla Direccion</h2>
        <h3>Propósito</h3>
        <p>La tabla <strong>Direccion</strong> almacena los datos de ubicación de los proveedores, 
        permitiendo reutilizar y gestionar de forma normalizada la información de direcciones.</p>
        
        <h3>Campos</h3>
        <ul>
            <li>ID_Direccion: Clave primaria única de la dirección.</li>
            <li>Calle, Colonia, CP, Ciudad, Estado, Pais: Campos que representan la ubicación completa.</li>
        </ul>
    </section>

    <section>
        <h2>Tabla ProveedorIngrediente</h2>
        <h3>Propósito</h3>
        <p>La tabla <strong>ProveedorIngrediente</strong> identifica qué proveedor vende cada ingrediente, 
        lo que facilita la trazabilidad, la gestión de compras y el control de inventario.</p>
        
        <h3>Campos</h3>
        <ul>
            <li>ID_ProveedorIngrediente: Clave primaria única de la relación.</li>
            <li>ID_Proveedor: Clave foránea que referencia a Proveedor.</li>
            <li>ID_Ingrediente: Clave foránea que referencia a Ingrediente.</li>
            <li>Cantidad: Cantidad proporcionada del ingrediente.</li>
        </ul>
    </section>

    <section>
    <h2>Normalización de la Base de Datos</h2>
    <p>La base de datos ha sido diseñada siguiendo las primeras tres formas normales (1NF, 2NF, 3NF) 
    para garantizar la organización y consistencia de los datos:</p>

    <h3>1NF (Primera Forma Normal)</h3>
    <p>Cada tabla tiene una clave primaria única y todas las entradas son atómicas, lo que significa que 
    cada campo contiene un solo valor. Por ejemplo:</p>
    <ul>
        <li><strong>Tabla Proveedor:</strong> Contiene campos como Nombre, ApellidoP, ApellidoM, 
        Telefono y Correo, donde cada campo guarda un valor único por proveedor. 
        ID_Proveedor actúa como clave primaria.</li>
        
        <li><strong>Tabla Direccion:</strong> Cada dirección está identificada por ID_Direccion, 
        y los campos como Calle, Colonia, CP, Ciudad, Estado y País almacenan valores individuales, 
        sin listas ni conjuntos.</li>
        
        <li><strong>Tabla ProveedorIngrediente:</strong> Cada relación está identificada por 
        ID_ProveedorIngrediente y contiene únicamente valores atómicos para ID_Proveedor, 
        ID_Ingrediente y Cantidad.</li>
    </ul>

    <h3>2NF (Segunda Forma Normal)</h3>
    <p>La base de datos está en 1NF y todos los atributos no clave dependen completamente de la clave primaria. Por ejemplo:</p>
    <ul>
        <li><strong>Tabla Proveedor:</strong> Todos los atributos, como Nombre, RFC_NIT o Estatus, 
        dependen completamente de ID_Proveedor.</li>
        
        <li><strong>Tabla Direccion:</strong> Todos los campos dependen únicamente de ID_Direccion, 
        sin dependencias parciales.</li>
        
        <li><strong>Tabla ProveedorIngrediente:</strong> Cada atributo, como Cantidad, 
        depende completamente de ID_ProveedorIngrediente, y no de una parte de la clave.</li>
    </ul>

    <h3>3NF (Tercera Forma Normal)</h3>
    <p>La base de datos está en 2NF y no hay dependencias transitivas entre los atributos no clave. Por ejemplo:</p>
    <ul>
        <li><strong>Tabla Proveedor:</strong> Todos los atributos dependen únicamente de ID_Proveedor, 
        sin que un campo no clave dependa de otro campo no clave (la dirección se normalizó en su propia tabla).</li>
        
        <li><strong>Tabla Direccion:</strong> Los campos como Ciudad, Estado y País dependen de ID_Direccion, 
        y no de otros campos no clave.</li>
        
        <li><strong>Tabla ProveedorIngrediente:</strong> Los atributos dependen directamente de 
        ID_ProveedorIngrediente, eliminando cualquier dependencia transitiva.</li>
    </ul>

    <p>Este diseño normalizado asegura una estructura de datos eficiente, minimizando redundancias 
    y facilitando la gestión de la información en el módulo de Proveedores.</p>
</section>


    <section>
        <div class="sql-block">
            <h3>Código SQL para crear tablas</h3>
            <pre>
CREATE TABLE Direccion (
    ID_Direccion INT IDENTITY(1,1) PRIMARY KEY,
    Calle NVARCHAR(200),
    Colonia NVARCHAR(100),
    CP NVARCHAR(10),
    Ciudad NVARCHAR(100),
    Estado NVARCHAR(100),
    Pais NVARCHAR(50)
);

CREATE TABLE Proveedor ( 
    ID_Proveedor INT IDENTITY(1,1) PRIMARY KEY,
    Nombre NVARCHAR(100) NOT NULL,
    SegundoNombre NVARCHAR(100),
    ApellidoP NVARCHAR(100) NOT NULL,
    ApellidoM NVARCHAR(100),
    Telefono NVARCHAR(20) NOT NULL,
    Correo NVARCHAR(100),
    RFC_NIT NVARCHAR(20) NOT NULL,
    Estatus NVARCHAR(10) DEFAULT 'Activo',
    FechaRegistro DATE DEFAULT GETDATE(),
    ID_Direccion INT FOREIGN KEY REFERENCES Direccion(ID_Direccion)
);

CREATE TABLE ProveedorIngrediente (
    ID_ProveedorIngrediente INT IDENTITY(1,1) PRIMARY KEY,
    ID_Proveedor INT NOT NULL FOREIGN KEY REFERENCES Proveedor(ID_Proveedor),
    ID_Ingrediente INT NOT NULL,
    Cantidad DECIMAL(10,2) DEFAULT 0
);
            </pre>
        </div>
    </section>

    <section>
        <div class="sql-block">
            <h3>Código SQL para agregar registros</h3>
            <pre>
-- =======================
-- Inserción en Direccion
-- =======================
INSERT INTO Direccion (Calle, Colonia, CP, Ciudad, Estado, Pais)
VALUES
('Av. Reforma 123', 'Centro', '06000', 'Ciudad de México', 'CDMX', 'México'),
('Calle Hidalgo 45', 'Roma', '06700', 'Ciudad de México', 'CDMX', 'México'),
('Av. Juárez 789', 'Del Valle', '03100', 'Ciudad de México', 'CDMX', 'México'),
('Calle Morelos 34', 'Condesa', '06140', 'Ciudad de México', 'CDMX', 'México'),
('Av. Universidad 120', 'Coyoacán', '04000', 'Ciudad de México', 'CDMX', 'México');

-- =======================
-- Inserción en Proveedor
-- =======================
INSERT INTO Proveedor (Nombre, SegundoNombre, ApellidoP, ApellidoM, Telefono, Correo, RFC_NIT, Estatus, ID_Direccion)
VALUES
('Juan', 'Carlos', 'Pérez', 'López', '5551234567', 'juan.perez@email.com', 'JPL890123AB1', 'Activo', 1),
('María', NULL, 'García', 'Hernández', '5552345678', 'maria.garcia@email.com', 'MGH900321CD2', 'Activo', 2),
('Pedro', 'Luis', 'Ramírez', 'Torres', '5553456789', 'pedro.ramirez@email.com', 'PLR850712EF3', 'Activo', 3),
('Laura', 'Fernanda', 'Martínez', 'Sánchez', '5554567890', 'laura.martinez@email.com', 'LMS920615GH4', 'Activo', 4),
('José', NULL, 'Hernández', 'Morales', '5555678901', 'jose.hernandez@email.com', 'JHM800101IJ5', 'Activo', 5);

-- ==============================
-- Inserción en ProveedorIngrediente
-- ==============================
INSERT INTO ProveedorIngrediente (ID_Proveedor, ID_Ingrediente, Cantidad)
VALUES
(1, 1, 100.50),
(2, 2, 200.00),
(3, 3, 150.75),
(4, 4, 300.00),
(5, 5, 250.25);
            </pre>
        </div>
    </section>

</body>
</html>
