<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subsistema de Proveedores</title>
    <link rel="stylesheet" href="../Style/styleInfoAnalisis.css">
</head>
<body>
    <h1>Diseño de la base de datos del subsistema de Proveedores</h1>

    <section>
        <h2>Diagrama de la base de datos</h2>
        <img src="./../assets/Proveedores.png" alt="Diagrama de la base de datos de Proveedores">
    </section>

    <section>
        <h2>Tabla Proveedor</h2>
        <h3>Propósito</h3>
        <p>La tabla Proveedor almacena información detallada de cada proveedor del sistema, incluyendo datos de contacto, ubicación y tipo de proveedor. Esta información es esencial para gestionar relaciones comerciales y controlar la cadena de suministro.</p>
        
        <h3>Campos</h3>
        <ul>
            <li>ID_Proveedor: Clave primaria única que identifica a cada proveedor.</li>
            <li>Nombre, SegundoNombre, ApellidoP y ApellidoM: Permiten un registro completo del nombre del proveedor.</li>
            <li>Telefono y Correo: Datos de contacto obligatorios para comunicación directa.</li>
            <li>Calle, Colonia, CP, Ciudad, Estado, Pais: Campos que permiten almacenar la dirección completa del proveedor.</li>
            <li>TipoProveedor: Indica el tipo o categoría del proveedor.</li>
            <li>RFC_NIT: Identificación fiscal obligatoria para gestión legal y administrativa.</li>
            <li>Estatus: Indica si el proveedor está activo o inactivo.</li>
            <li>FechaRegistro: Fecha en que se dio de alta al proveedor, útil para auditorías y control histórico.</li>
        </ul>
    </section>

    <section>
        <h2>Tabla ProveedorIngrediente</h2>
        <h3>Propósito</h3>
        <p>La tabla ProveedorIngrediente permite identificar fácilmente qué proveedor nos vende cada ingrediente, lo que facilita la trazabilidad de productos, la gestión de compras y el control de inventario.</p>
        
        <h3>Campos</h3>
        <ul>
            <li>ID_ProveedorIngrediente: Clave primaria única de la relación.</li>
            <li>ID_Proveedor: Clave foránea que referencia al proveedor correspondiente.</li>
            <li>ID_Ingrediente: Clave foránea que referencia al ingrediente suministrado.</li>
            <li>Cantidad: Cantidad disponible del ingrediente proporcionada por el proveedor.</li>
        </ul>
    </section>

    <section>
        <h2>Normalización de la Base de Datos</h2>
        <p>Se han seguido las primeras tres formas normales (1NF, 2NF, 3NF) para asegurar consistencia y evitar redundancias:</p>

        <h3>1NF (Primera Forma Normal)</h3>
        <p>Todos los campos son atómicos y cada tabla tiene una clave primaria única.</p>

        <h3>2NF (Segunda Forma Normal)</h3>
        <p>Todos los atributos dependen completamente de la clave primaria, evitando dependencias parciales.</p>

        <h3>3NF (Tercera Forma Normal)</h3>
        <p>No existen dependencias transitivas; cada atributo no clave depende únicamente de la clave primaria.</p>
    </section>

    <section>
        <div class="sql-block">
            <h3>Código SQL para crear tablas<</h3>
            <p>-</p>
            <pre>
CREATE TABLE Proveedor ( 
    ID_Proveedor INT IDENTITY(1,1) PRIMARY KEY,
    Nombre NVARCHAR(100) NOT NULL,
    SegundoNombre NVARCHAR(100),
    ApellidoP NVARCHAR(100) NOT NULL,
    ApellidoM NVARCHAR(100),
    Telefono NVARCHAR(20) NOT NULL,
    Correo NVARCHAR(100),
    Calle NVARCHAR(200),
    Colonia NVARCHAR(100),
    CP NVARCHAR(10),
    Ciudad NVARCHAR(100),
    Estado NVARCHAR(100),
    Pais NVARCHAR(50),
    TipoProveedor NVARCHAR(50),
    RFC_NIT NVARCHAR(20) NOT NULL,
    Estatus NVARCHAR(10) DEFAULT 'Activo',
    FechaRegistro DATE DEFAULT GETDATE()
);

CREATE TABLE ProveedorIngrediente (
    ID_ProveedorIngrediente INT IDENTITY(1,1) PRIMARY KEY,
    ID_Proveedor INT NOT NULL FOREIGN KEY REFERENCES Proveedor(ID_Proveedor),
    ID_Ingrediente INT NOT NULL,
    Cantidad DECIMAL(10,2) DEFAULT 0
);
</pre>
        </div>
</section>


    <section>
        <div class="sql-block">
            <h3>Codigo SQL para agregar registros</h3>
            <p>-</p>
            <pre>
-- =======================
-- Inserción en Proveedor
-- =======================
INSERT INTO Proveedor (Nombre, SegundoNombre, ApellidoP, ApellidoM, Telefono, Correo, Calle, Colonia, CP, Ciudad, Estado, Pais, TipoProveedor, RFC_NIT, Estatus)
VALUES
('Juan', 'Carlos', 'Pérez', 'López', '5551234567', 'juan.perez@email.com', 'Av. Reforma 123', 'Centro', '06000', 'Ciudad de México', 'CDMX', 'México', 'Café', 'JPL890123AB1', 'Activo'),
('María', NULL, 'García', 'Hernández', '5552345678', 'maria.garcia@email.com', 'Calle Hidalgo 45', 'Roma', '06700', 'Ciudad de México', 'CDMX', 'México', 'Lácteos', 'MGH900321CD2', 'Activo'),
('Pedro', 'Luis', 'Ramírez', 'Torres', '5553456789', 'pedro.ramirez@email.com', 'Av. Juárez 789', 'Del Valle', '03100', 'Ciudad de México', 'CDMX', 'México', 'Panadería', 'PLR850712EF3', 'Activo'),
('Laura', 'Fernanda', 'Martínez', 'Sánchez', '5554567890', 'laura.martinez@email.com', 'Calle Morelos 34', 'Condesa', '06140', 'Ciudad de México', 'CDMX', 'México', 'Frutas', 'LMS920615GH4', 'Activo'),
('José', NULL, 'Hernández', 'Morales', '5555678901', 'jose.hernandez@email.com', 'Av. Universidad 120', 'Coyoacán', '04000', 'Ciudad de México', 'CDMX', 'México', 'Verduras', 'JHM800101IJ5', 'Activo'),
('Ana', 'Lucía', 'Torres', 'Ramírez', '5556789012', 'ana.torres@email.com', 'Calle Allende 87', 'San Ángel', '01000', 'Ciudad de México', 'CDMX', 'México', 'Dulces', 'ALT950921KL6', 'Activo'),
('Miguel', 'Ángel', 'Flores', 'Pineda', '5557890123', 'miguel.flores@email.com', 'Calle Zaragoza 56', 'Tlalpan', '14000', 'Ciudad de México', 'CDMX', 'México', 'Café', 'MAF830305MN7', 'Activo'),
('Carmen', NULL, 'Reyes', 'Castillo', '5558901234', 'carmen.reyes@email.com', 'Av. Central 90', 'Iztapalapa', '09200', 'Ciudad de México', 'CDMX', 'México', 'Panadería', 'CRC780824OP8', 'Activo'),
('Andrés', 'Felipe', 'Mendoza', 'Gómez', '5559012345', 'andres.mendoza@email.com', 'Calle Independencia 23', 'Nápoles', '03810', 'Ciudad de México', 'CDMX', 'México', 'Frutas', 'AFM860417QR9', 'Activo'),
('Sofía', 'Isabel', 'Ortiz', 'Luna', '5550123456', 'sofia.ortiz@email.com', 'Calle Reforma 300', 'Polanco', '11560', 'Ciudad de México', 'CDMX', 'México', 'Lácteos', 'SIL990122ST0', 'Activo');


-- ==============================
-- Inserción en ProveedorIngrediente
-- ==============================
-- Suponemos que los ingredientes con ID 1 al 10 existen en la tabla Ingrediente
INSERT INTO ProveedorIngrediente (ID_Proveedor, ID_Ingrediente, Cantidad)
VALUES
(1, 1, 100.50),
(2, 2, 200.00),
(3, 3, 150.75),
(4, 4, 300.00),
(5, 5, 250.25),
(6, 6, 180.00),
(7, 7, 90.00),
(8, 8, 120.50),
(9, 9, 500.00),
(10, 10, 75.00);
    </pre>
        </div>
</section>


</body>
</html>
